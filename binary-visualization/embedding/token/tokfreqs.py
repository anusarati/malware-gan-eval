"""Get frequencies of tokens in a file"""

import youtokentome as yttm
import sys
import numpy as np
from tqdm import tqdm

with open("vocab.txt") as vocab_file:
    vocab = vocab_file.read().split()
    indices = {word: i for i, word in enumerate(vocab)}
    with open(sys.argv[1]) as input_file:
        freqs = np.zeros(len(vocab))
        text = input_file.read()
        print("read")
        words = text.split()
        print("split")
        for word in tqdm(words):
            freqs[indices[word]] += 1
        print("freq")
        np.save("tokfreqs", freqs)
